(function(t){function e(e){for(var c,s,i=e[0],a=e[1],u=e[2],l=0,b=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&b.push(n[s][0]),n[s]=0;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c]);d&&d(e);while(b.length)b.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],c=!0,i=1;i<r.length;i++){var a=r[i];0!==n[a]&&(c=!1)}c&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var c={},n={app:0},o=[];function s(e){if(c[e])return c[e].exports;var r=c[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=c,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)s.d(r,c,function(e){return t[e]}.bind(null,c));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/factory/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=a;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0192":function(t,e,r){},"072c":function(t,e,r){"use strict";r("f63a")},"2c66":function(t,e,r){"use strict";r("3329")},"30ee":function(t,e,r){"use strict";r("4873")},3329:function(t,e,r){},"33ce":function(t,e,r){"use strict";r("0192")},3452:function(t,e,r){},4873:function(t,e,r){},"4a69":function(t,e,r){},"53fe":function(t,e,r){"use strict";r("cdde")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var c=r("7a23"),n={class:"layout"};function o(t,e,r,o,s,i){var a=Object(c["r"])("AppHeader"),u=Object(c["r"])("AppBody");return Object(c["l"])(),Object(c["f"])("div",n,[Object(c["i"])(a,{class:"layout__header"}),Object(c["i"])(u,{class:"layout__body"})])}var s=function(t){return Object(c["n"])("data-v-33e108b8"),t=t(),Object(c["m"])(),t},i={class:"header"},a=s((function(){return Object(c["g"])("div",{class:"header__title"},[Object(c["g"])("h1",{class:"title"},"Фабрика")],-1)})),u=[a];function d(t,e,r,n,o,s){return Object(c["l"])(),Object(c["f"])("div",i,u)}var l={},b=(r("33ce"),r("6b0d")),f=r.n(b);const O=f()(l,[["render",d],["__scopeId","data-v-33e108b8"]]);var g=O,p={class:"body"};function j(t,e,r,n,o,s){var i=Object(c["r"])("AppStatsBlock"),a=Object(c["r"])("AppCardList");return Object(c["l"])(),Object(c["f"])("div",p,[Object(c["i"])(i,{class:"stats__block"}),Object(c["i"])(a,{class:"card__block"})])}var v=function(t){return Object(c["n"])("data-v-1ec1fd76"),t=t(),Object(c["m"])(),t},y={class:"stats__menu"},_={class:"menu__block"},m=v((function(){return Object(c["g"])("div",{class:"title"},"Статистика производства",-1)})),h={class:"stats__list"},T={class:"stat"},S={class:"value"},x={class:"menu__block"},L={class:"text"},C={class:"menu__block"},G=v((function(){return Object(c["g"])("div",{class:"title"},"Прогресс производства",-1)})),I={class:"progress__list"},P={class:"label"};function k(t,e,r,n,o,s){var i=this,a=Object(c["r"])("ui-progress");return Object(c["l"])(),Object(c["f"])("div",y,[Object(c["g"])("div",_,[m,Object(c["g"])("div",h,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.$options.AVERAGE_STATS,(function(t,e){return Object(c["l"])(),Object(c["f"])("div",{key:e,class:"stat__wrapper"},[Object(c["g"])("div",T,Object(c["s"])(t.title),1),Object(c["g"])("div",S,Object(c["s"])(i[t.id]),1)])})),128))])]),Object(c["g"])("div",x,[Object(c["g"])("div",L,Object(c["s"])(t.$options.TEXT),1)]),Object(c["g"])("div",C,[G,Object(c["g"])("div",I,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.$options.PROGRESS_LIST,(function(t,e){return Object(c["l"])(),Object(c["f"])("div",{key:e,class:"progress__wrapper"},[Object(c["g"])("div",P,Object(c["s"])(t.title),1),Object(c["i"])(a,{"current-progress":i[t.id]},null,8,["current-progress"])])})),128))])])])}var $={class:"progress__bar"},A=["value"],N={class:"value"};function w(t,e,r,n,o,s){return Object(c["l"])(),Object(c["f"])("div",$,[Object(c["g"])("progress",{class:"bar",max:"100",value:t.currentProgress},null,8,A),Object(c["g"])("div",N,Object(c["s"])(t.progressValue),1)])}r("a9e3");var E={props:{currentProgress:{type:Number,default:0}},computed:{progressValue:function(){return this.currentProgress+"%"}}};r("2c66");const B=f()(E,[["render",w],["__scopeId","data-v-4c6fc00f"]]);var R=B,Y={components:{uiProgress:R},computed:{dex:function(){return this.$store.getters.averageDex},str:function(){return this.$store.getters.averageStr},int:function(){return this.$store.getters.averageInt},firstGeneration:function(){return this.$store.getters.firstGenerationProgress},secondGeneration:function(){return this.$store.getters.secondGenerationProgress}},AVERAGE_STATS:[{title:"Средняя сила",id:"str"},{title:"Средняя ловкость",id:"dex"},{title:"Средний интеллект",id:"int"}],PROGRESS_LIST:[{title:"Киборги 1го поколения",id:"firstGeneration"},{title:"Киборги 2го поколения",id:"secondGeneration"}],TEXT:"Исходя из того, что средние показатели\nчеловека:\nСила 20\nЛовкость 20\nИнтеллект 20\n        \nПри общей популяции планеты Х в 200\nчеловек для успешного захвата контроля\nнеобходимо произвести * клонов 1 поколения\nили * колонов 2 поколения"};r("cce8");const V=f()(Y,[["render",k],["__scopeId","data-v-1ec1fd76"]]);var H=V,D={class:"card__wrapper"},M={class:"card__list"},U={class:"button__wrapper"},F=Object(c["h"])("Добавить клона");function J(t,e,r,n,o,s){var i=Object(c["r"])("Card"),a=Object(c["r"])("ui-button"),u=Object(c["r"])("ModalWindow");return Object(c["l"])(),Object(c["f"])(c["a"],null,[Object(c["g"])("div",D,[Object(c["g"])("div",M,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.cyborgList,(function(t,e){return Object(c["l"])(),Object(c["d"])(i,{key:e,class:"cyborg",card:t},null,8,["card"])})),128))]),Object(c["g"])("div",U,[Object(c["i"])(a,{onClick:e[0]||(e[0]=function(e){return t.modalIsOpen=!0})},{default:Object(c["w"])((function(){return[F]})),_:1})])]),(Object(c["l"])(),Object(c["d"])(c["b"],{to:"#app"},[t.modalIsOpen?(Object(c["l"])(),Object(c["d"])(u,{key:0,onClose:e[1]||(e[1]=function(e){return t.modalIsOpen=!1}),onCreateCyborg:t.createCyborg},null,8,["onCreateCyborg"])):Object(c["e"])("",!0)]))],64)}r("07ac");var q=r("56fc"),W=r.n(q),X=function(t){return Object(c["n"])("data-v-8579f1c0"),t=t(),Object(c["m"])(),t},z={class:"card"},K=X((function(){return Object(c["g"])("div",{class:"icon"},[Object(c["g"])("img",{src:W.a})],-1)})),Q={class:"information"},Z={class:"header"},tt={class:"title"},et={class:"id"},rt={class:"sub-header"},ct={class:"stats__list"};function nt(t,e,r,n,o,s){return Object(c["l"])(),Object(c["f"])("div",z,[K,Object(c["g"])("div",Q,[Object(c["g"])("div",Z,[Object(c["g"])("div",tt,Object(c["s"])(t.formatTitleText()),1),Object(c["g"])("div",et,Object(c["s"])(t.formatId()),1)]),Object(c["g"])("div",rt,Object(c["s"])(t.formatSubHeaderText()),1),Object(c["g"])("div",ct,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(Object.values(t.$options.STATS_LIST),(function(e,r){return Object(c["l"])(),Object(c["f"])("div",{key:r,class:Object(c["k"])(["stat",e.id])},Object(c["s"])(t.formatStatText(e)),3)})),128))])])])}r("99af");var ot={props:{card:{required:!0,type:Object}},CYBORG_TYPES_LIST:{firstGeneration:{idText:"КПП",subHeaderText:"Киборг первого поколения"},secondGeneration:{idText:"КВП",subHeaderText:"Киборг второго поколения"}},STATS_LIST:{str:{id:"str",title:"Сила"},dex:{id:"dex",title:"Ловкость"},int:{id:"int",title:"Интеллект"}},methods:{formatId:function(){return"".concat(this.$options.CYBORG_TYPES_LIST[this.card.cyborgType].idText," #").concat(this.card.id)},formatSubHeaderText:function(){return this.$options.CYBORG_TYPES_LIST[this.card.cyborgType].subHeaderText},formatStatText:function(t){return"".concat(t.title,": ").concat(this.card[t.id])},formatTitleText:function(){return"".concat(this.card.lastName," ").concat(this.card.firstName," ").concat(this.card.middleName)}}};r("072c");const st=f()(ot,[["render",nt],["__scopeId","data-v-8579f1c0"]]);var it=st,at={class:"button"},ut={class:"text"};function dt(t,e,r,n,o,s){return Object(c["l"])(),Object(c["f"])("button",at,[Object(c["g"])("span",ut,[Object(c["q"])(t.$slots,"default",{},void 0,!0)])])}var lt={props:{currentProgress:{type:String,default:"60"}},computed:{progressValue:function(){return this.currentProgress+"%"}}};r("30ee");const bt=f()(lt,[["render",dt],["__scopeId","data-v-1ce55f4e"]]);var ft=bt,Ot=function(t){return Object(c["n"])("data-v-263fb574"),t=t(),Object(c["m"])(),t},gt=Ot((function(){return Object(c["g"])("div",{class:"modal__header"},[Object(c["g"])("div",{class:"title"},"Создать клона")],-1)})),pt={class:"modal__body"},jt={class:"item"},vt=Ot((function(){return Object(c["g"])("div",{class:"label"},"Фамилия",-1)})),yt={class:"item"},_t=Ot((function(){return Object(c["g"])("div",{class:"label"},"Имя",-1)})),mt={class:"item"},ht=Ot((function(){return Object(c["g"])("div",{class:"label"},"Отчество",-1)})),Tt={class:"item"},St=Ot((function(){return Object(c["g"])("div",{class:"label"},"Тип клона",-1)})),xt=["value"],Lt={class:"modal__footer"},Ct=Object(c["h"])("Создать");function Gt(t,e,r,n,o,s){var i=Object(c["r"])("ui-button");return Object(c["l"])(),Object(c["f"])("div",{class:"modal__background",onClick:e[6]||(e[6]=function(e){return t.$emit("close")})},[Object(c["g"])("div",{class:"modal__wrapper",onClick:e[5]||(e[5]=Object(c["y"])((function(){}),["stop"]))},[gt,Object(c["g"])("div",pt,[Object(c["g"])("div",jt,[vt,Object(c["x"])(Object(c["g"])("input",{ref:"lastNameInput",class:"input","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.cyborg.lastName=e})},null,512),[[c["u"],t.cyborg.lastName]])]),Object(c["g"])("div",yt,[_t,Object(c["x"])(Object(c["g"])("input",{class:"input","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.cyborg.firstName=e})},null,512),[[c["u"],t.cyborg.firstName]])]),Object(c["g"])("div",mt,[ht,Object(c["x"])(Object(c["g"])("input",{class:"input","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.cyborg.middleName=e})},null,512),[[c["u"],t.cyborg.middleName]])]),Object(c["g"])("div",Tt,[St,Object(c["x"])(Object(c["g"])("select",{class:"select","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.cyborg.cyborgType=e})},[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.$options.CYBORG_GENERATION,(function(t,e){return Object(c["l"])(),Object(c["f"])("option",{key:e,value:t.id},Object(c["s"])(t.title),9,xt)})),128))],512),[[c["t"],t.cyborg.cyborgType]])])]),Object(c["g"])("div",Lt,[Object(c["i"])(i,{onClick:e[4]||(e[4]=function(e){return t.createCyborg()})},{default:Object(c["w"])((function(){return[Ct]})),_:1})])])])}var It={emits:["close","createCyborg"],components:{UiButton:ft},data:function(){return{cyborg:{lastName:"",firstName:"",middleName:"",cyborgType:"firstGeneration",dex:0,int:0,str:0}}},CYBORG_STATS_BY_TYPE:{firstGeneration:{dex:20,int:20,str:20},secondGeneration:{dex:25,int:25,str:25}},CYBORG_GENERATION:[{id:"firstGeneration",title:"Киборг первого поколения"},{id:"secondGeneration",title:"Киборг второго поколени"}],mounted:function(){this.$refs.lastNameInput.focus()},methods:{createCyborg:function(){this.$emit("createCyborg",Object.assign({},this.cyborg,this.$options.CYBORG_STATS_BY_TYPE[this.cyborg.cyborgType]))}}};r("63ec");const Pt=f()(It,[["render",Gt],["__scopeId","data-v-263fb574"]]);var kt=Pt,$t={components:{Card:it,UiButton:ft,ModalWindow:kt},data:function(){return{modalIsOpen:!1}},computed:{cyborgList:function(){return this.$store.getters.cyborgList}},methods:{createCyborg:function(t){this.modalIsOpen=!1,this.$store.dispatch("createCyborg",t),this.$store.dispatch("saveData")}}};r("53fe");const At=f()($t,[["render",J],["__scopeId","data-v-18fc8fd6"]]);var Nt=At,wt={components:{AppStatsBlock:H,AppCardList:Nt}};r("72ce");const Et=f()(wt,[["render",j],["__scopeId","data-v-c58a9462"]]);var Bt=Et,Rt={components:{AppHeader:g,AppBody:Bt},created:function(){this.$store.dispatch("getData")}};r("dd6f");const Yt=f()(Rt,[["render",o],["__scopeId","data-v-6ee95b24"]]);var Vt=Yt,Ht=(r("b680"),r("d3b7"),r("e9c4"),r("5502")),Dt=20,Mt=20,Ut=20,Ft=200,Jt=function(t){return(t.id*(t.dex+t.str+t.int)/((Dt+Mt+Ut)*Ft)*100).toFixed(2)},qt=Object(Ht["a"])({state:function(){},getters:{cyborgList:function(t){return t.cyborgList||[]},averageDex:function(t){var e,r;return null!==(e=null===(r=t.cyborgList)||void 0===r?void 0:r.reduce((function(e,r,c){return e+=r.dex,c===t.cyborgList.length-1&&(e/=c+1),e}),0).toFixed(2))&&void 0!==e?e:0},averageStr:function(t){var e,r;return null!==(e=null===(r=t.cyborgList)||void 0===r?void 0:r.reduce((function(e,r,c){return e+=r.str,c===t.cyborgList.length-1&&(e/=c+1),e}),0).toFixed(2))&&void 0!==e?e:0},averageInt:function(t){var e,r;return null!==(e=null===(r=t.cyborgList)||void 0===r?void 0:r.reduce((function(e,r,c){return e+=r.int,c===t.cyborgList.length-1&&(e/=c+1),e}),0).toFixed(2))&&void 0!==e?e:0},firstGenerationProgress:function(t){var e=0;if(t.cyborgList)for(var r=t.cyborgList.length-1;r>=0;r--)if("firstGeneration"===t.cyborgList[r].cyborgType)return Jt(t.cyborgList[r]);return e},secondGenerationProgress:function(t){var e=0;if(t.cyborgList)for(var r=t.cyborgList.length-1;r>=0;r--)if("secondGeneration"===t.cyborgList[r].cyborgType)return Jt(t.cyborgList[r]);return e}},actions:{getData:function(t){fetch("data.json").then((function(t){return t.json()})).then((function(e){return t.commit("setState",e)}))},createCyborg:function(t,e){t.commit("addCyborg",e)},saveData:function(t){fetch("data.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.state)}).then((function(t){return console.log(t)}))}},mutations:{setState:function(t,e){qt.replaceState(e)},addCyborg:function(t,e){if(t.cyborgList&&t.cyborgList.length){for(var r=0,c=t.cyborgList.length-1;c>=0;c--)if(e.cyborgType===t.cyborgList[c].cyborgType)return r=t.cyborgList[c].id+1,void t.cyborgList.push(Object.assign({},e,{id:r}));t.cyborgList.push(Object.assign({},e,{id:r}))}else t.cyborgList=[],t.cyborgList.push(Object.assign({},e,{id:0}))}}}),Wt=(r("7dd0a"),Object(c["c"])(Vt));Wt.use(qt),Wt.mount("#app")},"56fc":function(t,e,r){t.exports=r.p+"img/avatar.d1d2b388.svg"},"63ec":function(t,e,r){"use strict";r("f8a4")},"72ce":function(t,e,r){"use strict";r("3452")},"7dd0a":function(t,e,r){},8537:function(t,e,r){},cce8:function(t,e,r){"use strict";r("8537")},cdde:function(t,e,r){},dd6f:function(t,e,r){"use strict";r("4a69")},f63a:function(t,e,r){},f8a4:function(t,e,r){}});
//# sourceMappingURL=app.0497d9e6.js.map